{"ast":null,"code":"import{useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function VoiceTest(_ref){let{onTranscribe}=_ref;const[listening,setListening]=useState(false);const[,setTranscript]=useState(\"\");// const [setTranscript] = useState(\"\");\nconst[status,setStatus]=useState(\"Click 'Start Listening' to use voice text to search events in the text box above!\");const startListening=()=>{const SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;const recognition=new SpeechRecognition();recognition.lang=\"en-US\";recognition.interimResults=false;recognition.maxAlternatives=1;//short required beep noise\nconst ctx=new AudioContext();const osc=ctx.createOscillator();osc.frequency.setValueAtTime(600,ctx.currentTime);osc.connect(ctx.destination);osc.start();osc.stop(ctx.currentTime+0.15);setListening(true);setStatus(\"Listening...\");recognition.start();recognition.onresult=event=>{const text=event.results[0][0].transcript.trim();setTranscript(text);setStatus(\"Done\");setListening(false);if(typeof onTranscribe===\"function\")onTranscribe(text);};recognition.onerror=e=>{setStatus(\"Error: \"+e.error);setListening(false);};};return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\",padding:\"10px\"},children:[/*#__PURE__*/_jsx(\"button\",{onClick:startListening,disabled:listening,style:{padding:\"12px 24px\",fontSize:\"2rem\",// background: listening ? \"#4b4b4bff\" : \"#efbbfdff\",\nbackground:listening?\"#2E1A47\":\"#522D80\",color:\"white\",border:\"none\",borderRadius:\"8px\",cursor:listening?\"not-allowed\":\"pointer\"},children:listening?\"Listening...\":\"Start Listening\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"gray\",fontSize:\"2rem\"},children:status})]});}","map":{"version":3,"names":["useState","jsx","_jsx","jsxs","_jsxs","VoiceTest","_ref","onTranscribe","listening","setListening","setTranscript","status","setStatus","startListening","SpeechRecognition","window","webkitSpeechRecognition","recognition","lang","interimResults","maxAlternatives","ctx","AudioContext","osc","createOscillator","frequency","setValueAtTime","currentTime","connect","destination","start","stop","onresult","event","text","results","transcript","trim","onerror","e","error","style","textAlign","padding","children","onClick","disabled","fontSize","background","color","border","borderRadius","cursor"],"sources":["C:/Users/epfer/Clemson/CPSC3720/Project/frontend/src/Voice.jsx"],"sourcesContent":["import { useState } from \"react\";\r\n\r\nexport default function VoiceTest({onTranscribe}) {\r\n  const [listening, setListening] = useState(false);\r\n  const [, setTranscript] = useState(\"\");\r\n  // const [setTranscript] = useState(\"\");\r\n  const [status, setStatus] = useState(\"Click 'Start Listening' to use voice text to search events in the text box above!\");\r\n\r\n  const startListening = () => {\r\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\r\n\r\n    const recognition = new SpeechRecognition();\r\n    recognition.lang = \"en-US\";\r\n    recognition.interimResults = false;\r\n    recognition.maxAlternatives = 1;\r\n\r\n    //short required beep noise\r\n    const ctx = new AudioContext();\r\n    const osc = ctx.createOscillator();\r\n    osc.frequency.setValueAtTime(600, ctx.currentTime);\r\n    osc.connect(ctx.destination);\r\n    osc.start();\r\n    osc.stop(ctx.currentTime + 0.15);\r\n \r\n\r\n    setListening(true);\r\n    setStatus(\"Listening...\");\r\n    recognition.start();\r\n\r\n    recognition.onresult = (event) => {\r\n      const text = event.results[0][0].transcript.trim();\r\n      setTranscript(text);\r\n      setStatus(\"Done\");\r\n      setListening(false);\r\n\r\n      if (typeof onTranscribe === \"function\") onTranscribe(text)\r\n    };\r\n\r\n    \r\n\r\n    recognition.onerror = (e) => {\r\n      setStatus(\"Error: \" + e.error);\r\n      setListening(false);\r\n    };\r\n  };\r\n\r\n  return (\r\n    <div style={{ textAlign: \"center\", padding: \"10px\" }}>\r\n      <button\r\n        onClick={startListening}\r\n        disabled={listening}\r\n        style={{\r\n          padding: \"12px 24px\",\r\n          fontSize: \"2rem\",\r\n          // background: listening ? \"#4b4b4bff\" : \"#efbbfdff\",\r\n          background: listening ? \"#2E1A47\" : \"#522D80\",\r\n          color: \"white\",\r\n          border: \"none\",\r\n          borderRadius: \"8px\",\r\n          cursor: listening ? \"not-allowed\" : \"pointer\",\r\n        }}\r\n      >\r\n        {listening ? \"Listening...\" : \"Start Listening\"}\r\n      </button>\r\n\r\n      {/* <div style={{ marginTop: \"20px\", fontSize: \"22px\", fontStyle: \"Verdana\" }}>\r\n        {transcript ? `You said: \"${transcript}\"` : null }\r\n      </div> */}\r\n\r\n      <p style={{ color: \"gray\", fontSize: \"2rem\" }}>{status}</p>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}